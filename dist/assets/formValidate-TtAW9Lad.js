document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".form__request-fields");if(!t)return;const i=t.querySelectorAll("input"),e=t.querySelector("#question"),r=t.querySelector("#consent");t.addEventListener("submit",c=>{c.preventDefault();let s=!1;if(i.forEach(o=>o.classList.remove("form__input--error")),e==null||e.classList.remove("form__input--error"),r==null||r.classList.remove("form__checkbox--error"),i.forEach(o=>{o.type!=="checkbox"&&(o.value.trim()===""||o.type==="email"&&!o.checkValidity())&&(o.classList.add("form__input--error"),s=!0)}),e&&e.value.trim()===""&&(e.classList.add("form__input--error"),s=!0),r&&!r.checked&&(r.classList.add("form__checkbox--error"),s=!0),s)return;const n=new FormData(t);console.log("Форма отправлена:",Object.fromEntries(n.entries())),t.reset()}),i.forEach(c=>{c.addEventListener("input",()=>c.classList.remove("form__input--error"))}),e==null||e.addEventListener("input",()=>e.classList.remove("form__input--error")),r==null||r.addEventListener("change",()=>r.classList.remove("form__checkbox--error"))});
